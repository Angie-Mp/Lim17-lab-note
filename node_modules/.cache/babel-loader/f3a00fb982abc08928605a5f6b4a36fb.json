{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Lim17-lab-note/src/components/EnterApp/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport { db } from \"../../../firebase/connection.js\";\nimport { uid } from \"uid\";\nimport { set, ref, onValue, remove, update } from \"firebase/database\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [todo, setTodo] = useState(\"\");\n  const [todos, setTodos] = useState([]);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempUuid, setTempUuid] = useState(\"\");\n\n  const handleTodoChange = e => {\n    setTodo(e.target.value);\n  }; //read\n\n\n  useEffect(() => {\n    onValue(ref(db), snapshot => {\n      setTodos([]);\n      const data = snapshot.val();\n\n      if (data !== null) {\n        Object.values(data).map(todo => {\n          setTodos(oldArray => [...oldArray, todo]);\n        });\n      }\n    });\n  }, []); //write\n\n  const writeToDatabase = () => {\n    const uuid = id();\n    set(ref(db, `/${id}`), {\n      todo,\n      uuid\n    });\n    setTodo(\"\");\n  }; //update\n\n\n  const handleUpdate = todo => {\n    setIsEdit(true);\n    setTempUuid(todo.uuid);\n    setTodo(todo.todo);\n  };\n\n  const handleSubmitChange = () => {\n    update(ref(db, `/${tempUuid}`), {\n      todo,\n      uuid: tempUuid\n    });\n    setTodo(\"\");\n    setIsEdit(false);\n  }; //delete\n\n\n  const handleDelete = todo => {\n    remove(ref(db, `/${todo.uuid}`));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: todo,\n      onChange: handleTodoChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), isEdit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmitChange,\n        children: \"Submit Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setIsEdit(false);\n          setTodo(\"\");\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: writeToDatabase,\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), todos.map(todo => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: todo.todo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleUpdate(todo),\n        children: \"update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleDelete(todo),\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"E7b0Ghpeb1EPEvfB1c3OEXO4dfU=\");\n\n_c = Home;\nexport default Home;\n/*import { useState, useEffect } from \"react\";\nimport { db } from \"../../../firebase/connection.js\";\nimport {\n  collection,\n  getDocs,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  doc,\n} from \"firebase/firestore\";\n\nfunction Home() {\n  const [newName, setNewName] = useState(\"\");\n  const [newAge, setNewAge] = useState(0);\n\n  const [users, setUsers] = useState([]);\n  const usersCollectionRef = collection(db, \"users\");\n\n  const createUser = async () => {\n    await addDoc(usersCollectionRef, { name: newName, age: Number(newAge) });\n  };\n\n  const updateUser = async (id, age) => {\n    const userDoc = doc(db, \"users\", id);\n    const newFields = { age: age + 1 };\n    await updateDoc(userDoc, newFields);\n  };\n\n  const deleteUser = async (id) => {\n    const userDoc = doc(db, \"users\", id);\n    await deleteDoc(userDoc);\n  };\n\n  useEffect(() => {\n    const getUsers = async () => {\n      const data = await getDocs(usersCollectionRef);\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n    };\n\n    getUsers();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <input\n        placeholder=\"Name...\"\n        onChange={(event) => {\n          setNewName(event.target.value);\n        }}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Age...\"\n        onChange={(event) => {\n          setNewAge(event.target.value);\n        }}\n      />\n\n      <button onClick={createUser}> Create User</button>\n      {users.map((user,id) => {\n        return (\n          <div key={id}>\n            {\" \"}\n            <h1>Name: {user.name}</h1>\n            <h1>Age: {user.age}</h1>\n            <button\n              onClick={() => {\n                updateUser(user.id, user.age);\n              }}\n            >\n              {\" \"}\n              Increase Age\n            </button>\n            <button\n              onClick={() => {\n                deleteUser(user.id);\n              }}\n            >\n              {\" \"}\n              Delete User\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\nexport default Home;\n*/\n/////////////////\n\n/*\nimport { React,useState } from \"react\";\nimport Header from \"../Header/Header.js\";\n\nimport \"./Style.css\"\n\nconst Home =() => {\n \n  return (\n    <div>\n      <Header/>\n\n      <div className=\"menu\">\n        <ul className=\"box\">\n          <p>hola</p>\n        </ul>\n      </div>\n\n      <div>\n        <p>hola dos</p>\n      </div>\n    </div>\n  );\n}\nexport default Home;\n\n*/\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["db","uid","set","ref","onValue","remove","update","useState","useEffect","Home","todo","setTodo","todos","setTodos","isEdit","setIsEdit","tempUuid","setTempUuid","handleTodoChange","e","target","value","snapshot","data","val","Object","values","map","oldArray","writeToDatabase","uuid","id","handleUpdate","handleSubmitChange","handleDelete"],"sources":["/Users/mac/Documents/Lim17-lab-note/src/components/EnterApp/Home/Home.js"],"sourcesContent":["import { db } from \"../../../firebase/connection.js\";\nimport { uid } from \"uid\";\nimport { set, ref, onValue, remove, update } from \"firebase/database\";\nimport { useState, useEffect } from \"react\";\n\nfunction Home() {\n  const [todo, setTodo] = useState(\"\");\n  const [todos, setTodos] = useState([]);\n  const [isEdit, setIsEdit] = useState(false);\n  const [tempUuid, setTempUuid] = useState(\"\");\n\n  const handleTodoChange = (e) => {\n    setTodo(e.target.value);\n  };\n\n  //read\n  useEffect(() => {\n    onValue(ref(db), (snapshot) => {\n      setTodos([]);\n      const data = snapshot.val();\n      if (data !== null) {\n        Object.values(data).map((todo) => {\n          setTodos((oldArray) => [...oldArray, todo]);\n        });\n      }\n    });\n  }, []);\n\n  //write\n  const writeToDatabase = () => {\n    const uuid = id();\n    set(ref(db, `/${id}`), {\n      todo,\n      uuid,\n    });\n\n    setTodo(\"\");\n  };\n\n  //update\n  const handleUpdate = (todo) => {\n    setIsEdit(true);\n    setTempUuid(todo.uuid);\n    setTodo(todo.todo);\n  };\n\n  const handleSubmitChange = () => {\n    update(ref(db, `/${tempUuid}`), {\n      todo,\n      uuid: tempUuid,\n    });\n\n    setTodo(\"\");\n    setIsEdit(false);\n  };\n\n  //delete\n  const handleDelete = (todo) => {\n    remove(ref(db, `/${todo.uuid}`));\n  };\n\n  return (\n    <div className=\"App\">\n      <input type=\"text\" value={todo} onChange={handleTodoChange} />\n      {isEdit ? (\n        <>\n          <button onClick={handleSubmitChange}>Submit Change</button>\n          <button\n            onClick={() => {\n              setIsEdit(false);\n              setTodo(\"\");\n            }}\n          >\n            X\n          </button>\n        </>\n      ) : (\n        <button onClick={writeToDatabase}>submit</button>\n      )}\n      {todos.map((todo) => (\n        <>\n          <h1>{todo.todo}</h1>\n          <button onClick={() => handleUpdate(todo)}>update</button>\n          <button onClick={() => handleDelete(todo)}>delete</button>\n        </>\n      ))}\n    </div>\n  );\n}\n\nexport default Home;\n\n\n/*import { useState, useEffect } from \"react\";\nimport { db } from \"../../../firebase/connection.js\";\nimport {\n  collection,\n  getDocs,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  doc,\n} from \"firebase/firestore\";\n\nfunction Home() {\n  const [newName, setNewName] = useState(\"\");\n  const [newAge, setNewAge] = useState(0);\n\n  const [users, setUsers] = useState([]);\n  const usersCollectionRef = collection(db, \"users\");\n\n  const createUser = async () => {\n    await addDoc(usersCollectionRef, { name: newName, age: Number(newAge) });\n  };\n\n  const updateUser = async (id, age) => {\n    const userDoc = doc(db, \"users\", id);\n    const newFields = { age: age + 1 };\n    await updateDoc(userDoc, newFields);\n  };\n\n  const deleteUser = async (id) => {\n    const userDoc = doc(db, \"users\", id);\n    await deleteDoc(userDoc);\n  };\n\n  useEffect(() => {\n    const getUsers = async () => {\n      const data = await getDocs(usersCollectionRef);\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n    };\n\n    getUsers();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <input\n        placeholder=\"Name...\"\n        onChange={(event) => {\n          setNewName(event.target.value);\n        }}\n      />\n      <input\n        type=\"number\"\n        placeholder=\"Age...\"\n        onChange={(event) => {\n          setNewAge(event.target.value);\n        }}\n      />\n\n      <button onClick={createUser}> Create User</button>\n      {users.map((user,id) => {\n        return (\n          <div key={id}>\n            {\" \"}\n            <h1>Name: {user.name}</h1>\n            <h1>Age: {user.age}</h1>\n            <button\n              onClick={() => {\n                updateUser(user.id, user.age);\n              }}\n            >\n              {\" \"}\n              Increase Age\n            </button>\n            <button\n              onClick={() => {\n                deleteUser(user.id);\n              }}\n            >\n              {\" \"}\n              Delete User\n            </button>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\nexport default Home;\n*/\n\n/////////////////\n/*\nimport { React,useState } from \"react\";\nimport Header from \"../Header/Header.js\";\n\nimport \"./Style.css\"\n\nconst Home =() => {\n \n  return (\n    <div>\n      <Header/>\n\n      <div className=\"menu\">\n        <ul className=\"box\">\n          <p>hola</p>\n        </ul>\n      </div>\n\n      <div>\n        <p>hola dos</p>\n      </div>\n    </div>\n  );\n}\nexport default Home;\n\n*/"],"mappings":"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QD,I;;KAAAA,I;AAqFT,eAAeA,IAAf;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}